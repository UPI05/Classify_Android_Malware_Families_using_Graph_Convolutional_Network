# Create a customized dataset with AndroZoo APIs

*You first need to request access to [AndroZoo](https://androzoo.uni.lu/)*

1. Download the labels file at [link](https://androzoo.uni.lu/static/lists/labels.tar.gz)

2. Access types/proposed.json to choose your labels.

3. Paste these labels into get_hash_list_for_each_class.py and run it to generate a list of candidates.

4. Create a file named .env and paste your API key into it.

5. Run crawl_apk.py to download the customized dataset. You can modify max_file_size and num_of_file variables. In which, num_of_file is the maxium number of files each class and max_file_size is the maximum file size.

# Extract co-occurrent APIs

We use Apktool to decompile apk files so you have to install it first.

After that, you can run apktool_extract_co_occurrent_apis.py to extract. The new json files will be generated and placed in "ds_json" with the same file and folder name of its original apk file.