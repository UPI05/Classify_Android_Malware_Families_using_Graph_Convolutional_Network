*This is our implementation for [GDroid](https://www.sciencedirect.com/science/article/abs/pii/S0167404821000882)*

# Create a customized dataset with AndroZoo APIs

*You first need to request access to [AndroZoo](https://androzoo.uni.lu/)*

1. Download the labels file at [link](https://androzoo.uni.lu/static/lists/labels.tar.gz)

2. Access types/proposed.json to choose your labels.

3. Paste these labels into get_hash_list_for_each_class.py and run it to generate a list of candidates.

4. Create a file named .env and paste your API key into it.

5. Run crawl_apk.py to download the customized dataset. You can modify max_file_size and num_of_file variables. In which, num_of_file is the maxium number of files each class and max_file_size is the maximum file size.

# Extract co-occurrent APIs

We use Apktool to decompile apk files so you have to install it first.

After that, you can run apktool_extract_co_occurrent_apis.py to extract. The new json files will be generated and placed in "ds_json" with the same file and folder name of its original apk file.

# Skip-gram model

Assum you have a list of relevant words that appeared in a sentence and another list of unrelevant words. Given a specific word, how can you generate the relevant words?

Well, we create pairs of a target word (given word) and a context word. The context word can be a relevant or an unrelevant word. We then label these pairs with 0 for "unrelevant" and 1 for "relevant" and train with Neuron Network.

Whenever I want to get n words related to the given one, I just need to create pairs that consist of the given word and predict with the trained model. The most relevant words related to the given one are the top n candidates that have most qualified output. Moreover, when training the model, a embedding layer is used to obtain a embbedding vector for each word.

Run w2v.py to train the Skip-gram model.